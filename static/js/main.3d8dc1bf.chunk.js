(this["webpackJsonpmoja-aplikacja"]=this["webpackJsonpmoja-aplikacja"]||[]).push([[0],{17:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(5),i=n.n(r),o=(n(17),n(2)),u=n(3),j="ADD",l="DELETE",d="EDIT",s=n(1),b={addRate:function(t){var e=t.author,n=t.comment,a=t.rate;return{type:j,payload:{author:e,comment:n,id:Math.floor(1024*Math.random()),rate:a}}},editRate:function(t){var e=t.author,n=t.comment,a=t.id,c=t.rate;return{type:d,payload:{id:a,author:e,comment:n,rate:c}}}},h=Object(o.b)(null,b)((function(t){var e=t.addRate,n=t.author,c=void 0===n?"":n,r=t.callback,i=t.comment,o=void 0===i?"":i,j=t.editRate,l=t.id,d=t.rate,b=void 0===d?0:d,h=Object(a.useState)(c),O=Object(u.a)(h,2),m=O[0],p=O[1],f=Object(a.useState)(b),x=Object(u.a)(f,2),v=x[0],y=x[1],g=Object(a.useState)(o),k=Object(u.a)(g,2),C=k[0],D=k[1];return Object(s.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),m.length){var n={author:m,callback:r,comment:C,id:l,rate:Number(v)};l?j(n):e(n),l&&r(),p(""),y(0),D("")}},children:[Object(s.jsx)("div",{children:Object(s.jsxs)("label",{children:["Autor:",Object(s.jsx)("input",{onChange:function(t){return p(t.target.value)},type:"text",value:m})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("label",{children:["Ocena:",Object(s.jsx)("input",{onChange:function(t){return y(t.target.value)},type:"number",value:v})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("label",{children:["Komentarz:",Object(s.jsx)("input",{onChange:function(t){return D(t.target.value)},type:"text",value:C})]})}),Object(s.jsx)("button",{type:"submit",children:l?"Edycja oceny":"Dodano ocene"})]})})),O=n(12),m=(n(23),{deleteRate:function(t){var e=t.id;return{type:l,payload:{id:e}}}}),p=Object(o.b)(null,m)((function(t){var e=t.author,n=t.comment,c=t.rate,r=t.id,i=t.deleteRate,o=Object(a.useState)(!1),j=Object(u.a)(o,2),l=j[0],d=j[1],b=function(){return d((function(t){return!t}))},O={id:r},m=l?Object(s.jsx)(h,{author:e,callback:b,comment:n,id:r,rate:c}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("button",{onClick:b,children:"Edytuj"})});return Object(s.jsxs)("li",{className:"element",children:[Object(s.jsxs)("p",{children:["Autor oceny: ",e,"."]}),Object(s.jsxs)("p",{children:["Komentarz: ",n,"."]}),Object(s.jsxs)("p",{children:["Ocena: ",c,"/5."]}),m,Object(s.jsx)("button",{onClick:function(){i(O)},children:"Usu\u0144"})]})})),f=Object(o.b)((function(t){return{rates:t.rates}}))((function(t){var e=t.rates.map((function(t){return Object(s.jsx)(p,Object(O.a)({},t),t.id)}));return Object(s.jsx)("ul",{children:e})})),x=n(7),v=n(11),y=Object(x.a)({rates:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return[].concat(Object(v.a)(t),[e.payload]);case d:return t.map((function(t){if(t.id!==e.payload.id)return t;var n=e.payload;return{author:n.author,comment:n.comment,rate:n.rate,id:t.id}}));case l:return t.filter((function(t){return t.id!==e.payload.id}));default:return console.warn("Nie mamy akcji typu: ".concat(e.type)),t}}}),g=Object(x.b)(y);n(24);var k=function(){return Object(s.jsx)(o.a,{store:g,children:Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"ui",children:[Object(s.jsx)("h1",{children:"Czytelnia Fantasy"}),Object(s.jsx)("p",{children:"Literatura fantasy mistrza gry."}),Object(s.jsx)(h,{}),Object(s.jsx)(f,{})]})})})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root")),C()}},[[25,1,2]]]);
//# sourceMappingURL=main.3d8dc1bf.chunk.js.map